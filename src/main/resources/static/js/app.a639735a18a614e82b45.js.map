{"version":3,"sources":["webpack:///./src/App.vue?0e8f","webpack:///./src/App.vue","webpack:///src/App.vue","webpack:///src/components/login.vue","webpack:///./src/components/login.vue?b9e6","webpack:///./src/components/login.vue","webpack:///./src/router/index.js","webpack:///./src/common/var.js","webpack:///./src/store.js","webpack:///./src/axios/index.js","webpack:///./src/main.js"],"names":["selectortype_template_index_0_src_App","render","_h","this","$createElement","_c","_self","attrs","id","to","name","_v","staticRenderFns","src_App","__webpack_require__","normalizeComponent","data","methods","islogin","$route","ssrContext","login","ruleForm","password","checked","username","rules","validator","rule","value","callback","Error","trigger","created","token","js_cookie_default","a","get","console","log","submit","submitForm","formName","_this","$refs","validate","valid","$message","error","resetForm","resetFields","_this2","postHttp","then","res","status","$store","commit","$router","push","warning","msg","components_login","_vm","staticClass","ref","model","status-icon","label-width","label","prop","type","autocomplete","$$v","$set","expression","on","click","$event","src_components_login","login_normalizeComponent","Vue","use","Router","router","routes","path","component","Login","meta","requireLogin","r","require","__WEBPACK_AMD_REQUIRE_ARRAY__","apply","bind","catch","oe","baseURL","st","window","localStorage","Vuex","state","loginInfo","getItem","routerList","JSON","parse","mutations","setLoginInfo","setItem","logout","removeItem","setRouterList","list","stringify_default","store","Store","getters","Axios","defaults","interceptors","request","config","headers","Token","promise_default","reject","response","alert","sessionStorage","location","reload","ajax","method","url","params","httpDefault","timeout","withCredentials","content-type","resolve","prototype","getHttp","putHttp","delHttp","ElementUI","productionTip","beforeEach","from","next","el","components","App","template"],"mappings":"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","file":"static/js/app.a639735a18a614e82b45.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('ul',[_c('li',[_c('router-link',{attrs:{\"to\":{name:'home'}}},[_vm._v(\"首页\")])],1),_vm._v(\" \"),_c('li',[_c('router-link',{attrs:{\"to\":{name:'user'}}},[_vm._v(\"用户中心\")])],1)]),_vm._v(\" \"),_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-357dbd02\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-357dbd02\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-357dbd02\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"app\">\n    <ul>\n      <li><router-link :to = \"{name:'home'}\" >首页</router-link></li>\n      <li><router-link :to = \"{name:'user'}\" >用户中心</router-link></li>\n    </ul>\n    <router-view/>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'App',\n  data(){\n    return{\n\n    }\n  },\n  methods:{\n    islogin(){\n      if(this.$route.name === \"login\"){\n        return false;\n      }\n      return true;\n    }\n  }\n}\n</script>\n\n<style>\n#app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 60px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","<template>\n  <div class=\"hello\">\n    <el-form :model=\"ruleForm\" status-icon :rules=\"rules\" ref=\"ruleForm\" label-width=\"100px\" class=\"demo-ruleForm\"  >\n      <el-form-item label=\"用户名\" prop=\"username\">\n        <el-input type=\"password\" v-model=\"ruleForm.username\" autocomplete=\"off\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"密码\" prop=\"password\">\n        <el-input type=\"password\" v-model=\"ruleForm.password\" autocomplete=\"off\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"自动登录\">\n        <el-switch v-model=\"ruleForm.checked\"></el-switch>\n      </el-form-item>\n      <el-form-item>\n        <el-button type=\"primcheckedary\" @click=\"submitForm('ruleForm')\">提交</el-button>\n        <el-button @click=\"resetForm('ruleForm')\">重置</el-button>\n      </el-form-item>\n    </el-form>\n  </div>\n</template>\n\n<script>\n  import Cookies from \"js-cookie\";\n  export default {\n    data() {\n      var username = (rule, value, callback) => {\n        if(value === ''){\n          callback(new Error(\"请输入用户名\"));\n        }else\n          callback();\n      };\n      var validatePass = (rule, value, callback) => {\n        if (value === '') {\n          callback(new Error('请输入密码'));\n        } else {\n          callback();\n        }\n      };\n      return {\n        ruleForm: {\n          password: '',\n          checked:true,\n          username: ''\n        },\n        rules: {\n          password: [\n            { validator: validatePass, trigger: 'blur' }\n            // { min: 6, max: 12, message: '长度在 6 到 12 个字符', trigger: 'blur' }\n          ],\n          username: [\n            { validator: username, trigger: 'blur' }\n            // { min: 6, max: 12, message: '长度在 6 到 12 个字符', trigger: 'blur' }\n          ],\n        }\n      };\n    },\n    created(){\n      let token = Cookies.get(\"token\");\n      console.log(token);\n      //如果存在则自动登录\n      if(token){\n          this.submit();\n      }\n    },\n    methods: {\n      submitForm(formName) {\n        this.$refs[formName].validate((valid) => {\n          if (valid) {\n            this.submit();\n            return false;\n          } else {\n            this.$message.error('请填写正确的数据后再进行提交');\n            return false;\n          }\n        });\n      },\n      resetForm(formName) {\n        this.$refs[formName].resetFields();\n      },\n      submit(){\n        this.postHttp(\"login\",this.ruleForm)\n          .then(res =>{\n            if(res){\n              let data = res.data;\n              if(data.status == 200){\n                this.$store.commit(\"setLoginInfo\",data.token);\n                this.$router.push({name:'home'});\n              }else{\n                this.$message.warning(data.msg);\n              }\n            }\n          });\n      }\n    }\n  }\n</script>\n\n<style scoped>\nh1, h2 {\n  font-weight: normal;\n}\nul {\n  list-style-type: none;\n  padding: 0;\n}\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\na {\n  color: #42b983;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/login.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"hello\"},[_c('el-form',{ref:\"ruleForm\",staticClass:\"demo-ruleForm\",attrs:{\"model\":_vm.ruleForm,\"status-icon\":\"\",\"rules\":_vm.rules,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"用户名\",\"prop\":\"username\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"autocomplete\":\"off\"},model:{value:(_vm.ruleForm.username),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"username\", $$v)},expression:\"ruleForm.username\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"密码\",\"prop\":\"password\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"autocomplete\":\"off\"},model:{value:(_vm.ruleForm.password),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"password\", $$v)},expression:\"ruleForm.password\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"自动登录\"}},[_c('el-switch',{model:{value:(_vm.ruleForm.checked),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"checked\", $$v)},expression:\"ruleForm.checked\"}})],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primcheckedary\"},on:{\"click\":function($event){return _vm.submitForm('ruleForm')}}},[_vm._v(\"提交\")]),_vm._v(\" \"),_c('el-button',{on:{\"click\":function($event){return _vm.resetForm('ruleForm')}}},[_vm._v(\"重置\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-75ee8950\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/login.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-75ee8950\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./login.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./login.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./login.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-75ee8950\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./login.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-75ee8950\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/login.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\nimport Router from 'vue-router'\nimport Login from '../components/login.vue'\nconst User = r =>require(['../components/user.vue'],r);\nconst Home = r =>require(['../components/home.vue'],r);\n\nVue.use(Router)\n\nexport default new Router({\n  routes: [\n    {\n      path: '/',\n      name: 'login',\n      component: Login\n    },\n    {\n      path: '/user',\n      name: 'user',\n      meta:{\n        requireLogin:true\n      },\n      component: User\n    },\n    {\n      path: '/home',\n      name: 'home',\n      meta:{\n        requireLogin:true\n      },\n      component: Home\n    }\n  ]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","export const baseURL = \"http://localhost:8088/\";\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/var.js","import Vue from  \"vue\";\nimport Vuex from  \"vuex\";\n\nlet st = window.localStorage;\n\nVue.use(Vuex);\n\nconst state = {\n   loginInfo:st.getItem('token'),\n    routerList:JSON.parse(st.getItem(\"routerList\")||\"[]\")\n},mutations = {\n    setLoginInfo(state,token){\n        state.loginInfo = token;\n        st.setItem('token', token);\n    },\n    logout(state,token){\n        state.loginInfo = null;\n        st.removeItem(\"token\");\n    },\n    setRouterList(state,list){\n        state.routerList = list;\n        st.setItem(\"routerList\",JSON.stringify(list));\n    }\n},getters = {\n    loginInfo:state=>state.loginInfo,\n    routerList:state=>state.routerList\n}\n\nexport default new Vuex.Store({\n    state,\n    getters,\n    mutations\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/store.js","import Vue from 'vue';\nimport Axios from 'axios';\nimport {baseURL} from \"../common/var\";\nimport store from \"../store\";\n\nAxios.defaults.baseURL = baseURL;\n\nAxios.interceptors.request.use(config=> {\n    // 显示loading\n    if(store.getters.loginInfo != null){  //如果登录则在每次请求前加上Authorization 头\n        config.headers.Token = store.getters.loginInfo;\n    }\n    return config\n}, error =>{\n    // 请求错误时弹框提示，或做些其他事\n    return Promise.reject(error)\n})\n\nAxios.interceptors.response.use(function (response) {\n    // 对响应数据做点什么，允许在数据返回客户端前，修改响应的数据\n    // 如果只需要返回体中数据，则如下，如果需要全部，则 return response 即可\n    return response\n}, res => {\n    switch(res.response.status){\n        case 401:alert(\"没有权限\");break;\n        case 403:alert(\"禁止访问\");break;\n        case 404:alert(\"找到不到对应的资源\");break;\n        case 412:\n            window.sessionStorage.removeItem(\"token\");\n            location.reload();\n            break;\n        case 500:alert(\"服务器繁忙\");break;\n    }\n    // if(error)nsole.log(res);?{\n    //     window.sessionStorage.removeItem(\"token\");\n    //     location.reload();\n    // }\n\n})\n\n// 封装数据返回失败提示函数---------------------------------------------------------------------------\n// function errorState (error) {\n//     // 隐藏loading\n//     // 如果http状态码正常，则直接返回数据\n//     console.log(error);\n//     console.log(error.response);\n//     if (response.status === 403) {\n//         // 如果不需要除了data之外的数据，可以直接 return response.data\n//     }\n//     return error\n// }\n\n// 封装数据返回成功提示函数---------------------------------------------------------------------------\nfunction successState (res) {\n    // 隐藏loading\n    // 统一判断后端返回的错误码(错误码与后台协商而定)\n    // if (res.data.code === '000000') {\n    //     return res\n    // }\n}\n\n\nlet ajax = (method, url, params) =>{\n    let httpDefault = {\n        method: method,\n        baseURL: baseURL,\n        url: url,\n        // `params` 是即将与请求一起发送的 URL 参数\n        // `data` 是作为请求主体被发送的数据\n        params: method === 'GET' || method === 'DELETE' ? params : null,\n        data: method === 'POST' || method === 'PUT' ? JSON.stringify(params) : null,\n        timeout: 10000,\n        withCredentials:true        //请求带上cookie\n    }\n    if(method === 'POST'){\n        httpDefault.headers = {\n            'content-type':\"application/json\"\n        }\n    }\n    return new Promise((resolve, reject)=>{\n        Axios(httpDefault)\n            .then((res) =>{\n                resolve(res);\n            })\n            .catch(error =>{\n                reject(error);\n            })\n    });\n}\n\nVue.prototype.getHttp = (url,params) =>ajax(\"GET\",url,params);\nVue.prototype.postHttp = (url,params) =>ajax(\"POST\",url,params);\nVue.prototype.putHttp = (url,params) =>ajax(\"PUT\",url,params);\nVue.prototype.delHttp = (url,params) =>ajax(\"DELETE\",url,params);\n\nexport default ajax;\n\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/axios/index.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\nimport router from './router'\nimport ElementUI from 'element-ui';\nimport 'element-ui/lib/theme-chalk/index.css';\n\nimport './axios/index.js';\n\nimport store from './store.js'\n\nVue.use(ElementUI);\n\nVue.config.productionTip = false;\n\n//全局路由守卫\nrouter.beforeEach((to,from,next)=>{\n  if (to.meta.requireLogin){  //该路由是否需要登录\n    if(store.getters.loginInfo == null){\n      next({name:'login'});\n    }else{\n     next();\n    }\n  }else{\n    next();\n  }\n});\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  store,\n  components: { App },\n  template: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}